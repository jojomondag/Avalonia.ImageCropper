<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:mi="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             mc:Ignorable="d" d:DesignWidth="340" d:DesignHeight="300"
             x:Class="Avalonia.ImageCropper.Controls.CropPreview">

    <Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
            CornerRadius="8"
            Padding="16">
        <StackPanel Spacing="16">
            <!-- Preview Image -->
            <Border Name="PreviewBorder"
                    Width="140"
                    Height="140"
                    CornerRadius="70"
                    ClipToBounds="True"
                    Background="#E0E0E0"
                    HorizontalAlignment="Center">
                <Image Name="PreviewImage"
                       Stretch="UniformToFill"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"/>
            </Border>

            <!-- Controls hint -->
            <Border Name="ControlsHint"
                    Background="#20000000"
                    CornerRadius="4"
                    Padding="8,4"
                    Margin="0,0,0,8"
                    IsVisible="False">
                <StackPanel Spacing="2">
                    <TextBlock Text="Controls:" FontSize="10" FontWeight="SemiBold" Foreground="#AAAAAA"/>
                    <TextBlock Text="Drag image = Move" FontSize="9" Foreground="#888888"/>
                    <TextBlock Text="Drag border = Rotate" FontSize="9" Foreground="#888888"/>
                    <TextBlock Text="Scroll = Zoom" FontSize="9" Foreground="#888888"/>
                </StackPanel>
            </Border>

            <!-- Action Buttons -->
            <StackPanel Name="ActionsPanel"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center"
                        Spacing="8"
                        IsVisible="False">

                <!-- Back Button -->
                <Button Name="BackButton"
                        Classes="secondary"
                        ToolTip.Tip="Back">
                    <mi:MaterialIcon Kind="ArrowLeft" Width="20" Height="20"/>
                </Button>

                <!-- Rotate Left (90 degrees) -->
                <Button Name="RotateLeftButton"
                        Classes="secondary"
                        ToolTip.Tip="Rotate 90° Left">
                    <mi:MaterialIcon Kind="RotateLeft" Width="20" Height="20"/>
                </Button>

                <!-- Rotate Right (90 degrees) -->
                <Button Name="RotateRightButton"
                        Classes="secondary"
                        ToolTip.Tip="Rotate 90° Right">
                    <mi:MaterialIcon Kind="RotateRight" Width="20" Height="20"/>
                </Button>

                <!-- Reset -->
                <Button Name="ResetButton"
                        Classes="secondary"
                        ToolTip.Tip="Reset">
                    <mi:MaterialIcon Kind="Refresh" Width="20" Height="20"/>
                </Button>

                <!-- Save -->
                <Button Name="SaveButton"
                        Classes="primary"
                        ToolTip.Tip="Save">
                    <mi:MaterialIcon Kind="Check" Width="20" Height="20"/>
                </Button>

                <!-- Cancel -->
                <Button Name="CancelButton"
                        Classes="secondary"
                        ToolTip.Tip="Cancel">
                    <mi:MaterialIcon Kind="Close" Width="20" Height="20"/>
                </Button>
            </StackPanel>
        </StackPanel>
    </Border>
</UserControl>
